"use strict";var a=require("axios");const t="https://api-sandbox.kkiapay.me",r="https://api.kkiapay.me";var e="/api/v1/transactions/status",s="/api/v1/transactions/revert";module.exports=function(n){const o=(i=n,a.create({baseURL:i.sandbox?t:r,headers:{"x-api-key":i.publickey,"x-secret-key":i.secretkey,"x-private-key":i.privatekey}}),a);var i;return{verify:async a=>await(async(a,t)=>{try{return(await a.post(e,{transactionId:t})).data}catch(a){throw 4003===a.response.status?new Error(a.response.data.reason):new Error("Transaction Not Found")}})(o,a),refund:async a=>await(async(a,t)=>{try{return(await a.post(s,{transactionId:t})).data}catch(a){throw new Error(a.response.data)}})(o,a)}};
